<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Test Suite</title>
    <link rel="stylesheet" href="https://code.jquery.com/qunit/qunit-2.11.3.css">
    <script src = "/Users/bfishbaugh/kata-babysitter/BabysitterJS.JS"></script>
  </head>
  <body>
    <div id="qunit"></div>
    <div id="qunit-fixture"></div>
    <script src="https://code.jquery.com/qunit/qunit-2.11.3.js"></script>
</body>
</html>

<script>
    // Base Rate hours Testing Function: 
function findBaseTotalHours(startTime , bedTime) {
    let baseHours;
    let midnight = 24;
    if (bedTime > 4) {
        baseHours = bedTime - startTime;
        // Cannot Have Negative Hours
        if (baseHours < 0) {
            baseHours = 0;
        };
    };
    if (bedTime < 5) {
        baseHours = midnight - startTime;
        // Cannot Have Negative Hours
        if (baseHours < 0) {
            baseHours = 0;
        };
    };
    // Returns Number of Hours Rounded up once the Hour Started
    return Math.ceil(baseHours);
};

// Tests for Base Rate Hours
QUnit.module('findBaseTotalHours', function() {

    QUnit.test('Generic Test to Ensure Works', function(assert) {
        assert.equal(findBaseTotalHours(17, 23), 6, '23 - 17 = 6');
      });

    QUnit.test('Bedtime After Midnight to check pay change', function(assert) {
        assert.equal(findBaseTotalHours(17, 2), 7, '24 - 17 = 7');
      });

    QUnit.test('Bedtime IS the start Time', function(assert) {
        assert.equal(findBaseTotalHours(17, 17), 0, '17 - 17 = 0');
      });

    QUnit.test('Kids are in Bed BEFORE Start Time', function(assert) {
        assert.equal(findBaseTotalHours(18, 17), 0, '17 - 18 = 0 Can not Have Negative Hours');
      });

    QUnit.test('Bedtime is Pay Change Rate', function(assert) {
        assert.equal(findBaseTotalHours(17, 24), 7, '24 - 17 = 7');
      });

    QUnit.test('BedTime is a half hour', function(assert) {
        assert.equal(findBaseTotalHours(17, 19.5), 3, '20 - 15 = 3 (Rounded Up)');
      });

    QUnit.test('Bed time is JUST after an Hour', function(assert) {
        assert.equal(findBaseTotalHours(17, 20.03), 4, '20.03 - 17 = 4 (Rounded Up)');
      });

    QUnit.test('Bedtime is before Start Time & a Decimal', function(assert) {
        assert.equal(findBaseTotalHours(18, 17.1), 0, '18 - 17 = 0 (-1, Rounded to 0)');
      });
    });

    // Bed Time Hours Testing Function:  
    function findBedTimeTotalHours(startTime, endTime, bedTime) {
        const midnight = 24;
        let btHours;
    
    if (bedTime < midnight) {
        if (endTime < 5) {
            btHours = midnight - bedTime;
        };

        if (bedTime < startTime) {
            btHours = midnight - startTime;
        }

        if (endTime >= 17) {
            if (bedTime < endTime) {
                btHours = endTime - bedTime;
            };

            if (bedTime > endTime) {
                btHours = 0;
            };
        };
    };
    if (bedTime < 5 || bedTime == midnight) {
        btHours = 0;
    };
        return Math.floor(btHours);
};

// Tests for Bed Time Hours
QUnit.module('findBedTimeTotalHours', function() {

    QUnit.test('BedTime Before Midnight, End Time After Midnight: Should Return 1', function(assert) {
        assert.equal(findBedTimeTotalHours(17, 3 , 23), 1, 'BedTime Until Midnight: 1');
    });

    QUnit.test('Bedtime After Midnight, End Time After Midnight: Should Return 0', function(assert) {
        assert.equal(findBedTimeTotalHours(17, 3 , 1), 0, 'Bedtime After Midnight: 0');
    });

    QUnit.test('Bedtime AT Midnight, End Time After Midnight: Should Return 0', function(assert) {
        assert.equal(findBedTimeTotalHours(17, 3 , 24), 0, 'BedTime At Midnight: 0');
      });

    QUnit.test('Bedtime Before Midnight, End Time Before Midnight', function(assert) {
        assert.equal(findBedTimeTotalHours(17, 23 , 20), 3, 'End Time - Bed Time = 3');
    });

    QUnit.test('Bed Time Before Start Time', function(assert) {
        assert.equal(findBedTimeTotalHours(20, 1 , 19), 4, 'Midnight - Start Time = 4');
    });

    QUnit.test('Partial Hours: Bed Time Before Start Time', function(assert) {
        assert.equal(findBedTimeTotalHours(20.5, 23 , 21), 2, 'End Time - Start Time = 2');
    });

    QUnit.test('Partial Hours: Bed Time After Start Time', function(assert) {
        assert.equal(findBedTimeTotalHours(18,  23 , 19.5), 3, 'End Time - Start Time = 3.5 Rounded Down = 3 ');
    });

    QUnit.test('Partial Hours: Bed Time Before Midnight, End Time After Midnight', function(assert) {
        assert.equal(findBedTimeTotalHours(17, 3 , 23.5), 0, 'Midnight - Bed Time = .5 Rounded Down = 0');
    });

    QUnit.test('Partial Hours Start: Bed Time Before Midnight, End Time After Midnight', function(assert) {
        assert.equal(findBedTimeTotalHours(17.5, 3 , 19), 5, 'Midnight - bedTime = 5');
    });

});

</script>